<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JobmasterAI - Your Next Career Awaits</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- PDF & Word Document Generation Libraries -->
    <script src="https://unpkg.com/jspdf@latest/dist/jspdf.umd.min.js"></script>
    <script src="https://unpkg.com/docx@8.5.0/build/index.js"></script>
    <style>
        body { font-family: 'Inter', sans-serif; }
        .job-card { transition: all 0.3s ease-in-out; }
        .job-card:hover { transform: translateY(-5px); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); }
        .search-container { background-image: url('https://placehold.co/1200x400/2C5282/FFFFFF?text=JobmasterAI'); background-size: cover; background-position: center; }
        .loader { border: 4px solid #f3f3f3; border-top: 4px solid #3498db; border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .or-divider { display: flex; align-items: center; text-align: center; color: #ccc; }
        .or-divider::before, .or-divider::after { content: ''; flex: 1; border-bottom: 1px solid #555; }
        .or-divider:not(:empty)::before { margin-right: .25em; }
        .or-divider:not(:empty)::after { margin-left: .25em; }
        .modal-backdrop { background-color: rgba(0,0,0,0.6); }
        .prose h3 { margin-top: 1.5em; margin-bottom: 0.5em; font-size: 1.25rem; font-weight: 600; }
        .prose p { margin-bottom: 1em; }
        .prose ul { list-style-position: inside; }
        .prose li { margin-bottom: 0.5em; }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <!-- Header -->
    <header class="bg-white shadow-md sticky top-0 z-50">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="#" class="flex items-center gap-2 text-2xl font-bold text-blue-600">
                <svg class="w-9 h-9" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M50 90C72.0914 90 90 72.0914 90 50C90 27.9086 72.0914 10 50 10C27.9086 10 10 27.9086 10 50C10 72.0914 27.9086 90 50 90Z" fill="currentColor" fill-opacity="0.1"/><path d="M62.5 37.5C62.5 44.4036 56.9036 50 50 50C43.0964 50 37.5 44.4036 37.5 37.5C37.5 30.5964 43.0964 25 50 25C56.9036 25 62.5 30.5964 62.5 37.5Z" stroke="currentColor" stroke-width="6" stroke-linecap="round" stroke-linejoin="round"/><path d="M32.5 75C35.8333 65 45 62.5 50 62.5C55 62.5 65 65 67.5 75" stroke="currentColor" stroke-width="6" stroke-linecap="round" stroke-linejoin="round"/></svg>
                <span>JobmasterAI</span>
            </a>
            <div class="flex items-center gap-4">
                 <button id="how-to-use-btn" class="text-gray-600 hover:text-blue-600">How to Use</button>
                <div id="auth-links">
                    <button id="login-btn" class="text-gray-600 hover:text-blue-600 px-4">Log In</button>
                    <button id="signup-btn" class="bg-blue-600 text-white rounded-full px-4 py-2 hover:bg-blue-700 transition">Sign Up</button>
                </div>
                <div id="user-session" class="hidden items-center gap-4">
                     <button id="saved-jobs-btn" class="text-gray-600 hover:text-blue-600 font-semibold">Saved Jobs</button>
                    <span id="user-email" class="text-gray-700 font-semibold"></span>
                    <button id="logout-btn" class="bg-gray-200 text-gray-800 rounded-full px-4 py-2 hover:bg-gray-300 transition">Log Out</button>
                </div>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main>
        <!-- Search Section -->
        <section id="search-section" class="search-container text-white py-16 md:py-24">
            <div class="container mx-auto px-6 text-center bg-black bg-opacity-60 rounded-lg p-8 md:p-10">
                <h1 class="text-4xl md:text-5xl font-bold mb-4">Let AI Find Your Perfect Job</h1>
                <p class="text-lg md:text-xl mb-8">Describe your ideal role, or use the fields below. Our AI does the rest.</p>
                <div class="max-w-4xl mx-auto">
                    <form id="search-form">
                        <div class="flex flex-col sm:flex-row gap-4"><input type="text" id="search-input" placeholder="e.g., 'Remote software engineer, $120k...'" class="w-full px-6 py-4 rounded-full text-gray-800 focus:outline-none focus:ring-4 focus:ring-blue-300 transition" ><button type="submit" class="bg-blue-600 text-white rounded-full px-8 py-4 font-semibold hover:bg-blue-700 transition whitespace-nowrap">Find Jobs</button></div>
                        <div class="or-divider my-6 text-gray-300 font-semibold">OR</div>
                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"><input type="text" id="role-input" placeholder="Role (e.g., Sales Manager)" class="w-full px-4 py-3 rounded-lg text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-400"><input type="text" id="location-input" placeholder="Location (e.g., Remote)" class="w-full px-4 py-3 rounded-lg text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-400"><input type="text" id="salary-input" placeholder="Salary (e.g., $80k+)" class="w-full px-4 py-3 rounded-lg text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-400"><input type="text" id="experience-input" placeholder="Experience (e.g., Senior)" class="w-full px-4 py-3 rounded-lg text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-400"></div>
                    </form>
                </div>
            </div>
        </section>

        <!-- Job Listings Section -->
        <section id="listings-section" class="py-16"><div class="container mx-auto px-6"><div id="loading-indicator" class="hidden text-center"><div class="loader inline-block"></div><p class="mt-4 text-lg text-gray-600">Our AI is searching...</p></div><div id="results-summary" class="hidden text-center mb-8"><h2 class="text-2xl font-semibold"></h2></div><div id="job-listings" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"></div><div id="pagination-controls" class="mt-12 flex justify-center items-center gap-2"></div><div id="no-results" class="hidden text-center py-16"><img src="https://placehold.co/300x200/E2E8F0/4A5568?text=No+Results" alt="No results found" class="mx-auto mb-4 rounded-lg"><h3 class="text-2xl font-semibold text-gray-700">No Jobs Found</h3><p class="text-gray-500 mt-2">Try adjusting your search criteria.</p></div></div></section>
        
        <!-- Saved Jobs Section -->
        <section id="saved-jobs-section" class="hidden py-16 bg-gray-100"><div class="container mx-auto px-6"><div class="flex justify-between items-center mb-8"><h2 class="text-3xl font-bold">My Saved Jobs</h2><button id="back-to-search-btn" class="text-blue-600 hover:underline font-semibold">&larr; Back to Search</button></div><div id="saved-job-listings" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"></div><div id="no-saved-jobs" class="text-center py-16"><h3 class="text-2xl font-semibold text-gray-700">You haven't saved any jobs yet.</h3><p class="text-gray-500 mt-2">Click the bookmark icon on a job listing to save it here.</p></div><div class="mt-12 p-6 bg-white rounded-lg shadow-md"><h4 class="text-xl font-semibold mb-3">Email Notifications</h4><div class="flex items-center"><input type="checkbox" id="email-notifications-checkbox" class="h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"><label for="email-notifications-checkbox" class="ml-2 block text-sm text-gray-900">Receive email updates for new jobs that match your criteria.</label></div><p id="notification-status" class="text-sm text-green-600 mt-2 hidden">Settings saved!</p></div></div></section>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-12"><div class="container mx-auto px-6 text-center"><p>&copy; 2025 JobmasterAI. All rights reserved.</p></div></footer>

    <!-- Modals Container -->
    <div id="modal-container"></div>

    <!-- Firebase SDKs -->
    <script type="module">
        // --- YOUR FIREBASE CONFIGURATION ---
        const firebaseConfig = {
          apiKey: "AIzaSyBD5eZH1oizQ0uKWOmENz63ix_7T_O8Kg4",
          authDomain: "jobmaster-ai.firebaseapp.com",
          projectId: "jobmaster-ai",
          storageBucket: "jobmaster-ai.appspot.com",
          messagingSenderId: "599499923987",
          appId: "1:599499923987:web:f3a8603aa118727de795e6",
          measurementId: "G-LNG39EN822"
        };

        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
        import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
        import { getFirestore, doc, setDoc, getDoc, deleteDoc, collection, getDocs } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

        let app;
        try {
            app = initializeApp(firebaseConfig);
            console.log("Firebase Initialized Successfully!");
        } catch (e) {
            console.error("Error initializing Firebase:", e);
        }
        
        const auth = getAuth(app);
        const db = getFirestore(app);

        // --- GLOBAL STATE ---
        let currentUser = null;
        let savedJobIds = new Set();
        let currentJobs = [];
        let currentPage = 1;
        const jobsPerPage = 50;
        const { jsPDF } = window.jspdf;

        // --- DOM ELEMENTS ---
        const modalContainer = document.getElementById('modal-container');
        const jobListingsContainer = document.getElementById('job-listings');
        const paginationContainer = document.getElementById('pagination-controls');
        const howToUseBtn = document.getElementById('how-to-use-btn');
        const loginBtn = document.getElementById('login-btn');
        const signupBtn = document.getElementById('signup-btn');
        const logoutBtn = document.getElementById('logout-btn');
        const authLinks = document.getElementById('auth-links');
        const userSession = document.getElementById('user-session');
        const userEmailSpan = document.getElementById('user-email');
        const savedJobsBtn = document.getElementById('saved-jobs-btn');
        const searchSection = document.getElementById('search-section');
        const listingsSection = document.getElementById('listings-section');
        const savedJobsSection = document.getElementById('saved-jobs-section');
        const backToSearchBtn = document.getElementById('back-to-search-btn');
        const savedJobListingsContainer = document.getElementById('saved-job-listings');
        const noSavedJobsMessage = document.getElementById('no-saved-jobs');
        const emailCheckbox = document.getElementById('email-notifications-checkbox');
        const notificationStatus = document.getElementById('notification-status');
        
        // --- SERVER WAKE-UP FUNCTION ---
        function warmUpServer() {
            console.log("Warming up the server...");
            const url = `https://jobmaster-backend-y2bn.onrender.com/api/search?q=wakeup`;
            fetch(url).catch(err => {
                console.log("Warm-up request sent. Server is likely waking up.");
            });
        }
        
        // --- JOB SEARCH & DISPLAY LOGIC ---
        document.getElementById('search-form').addEventListener('submit', (e) => {
            e.preventDefault();
            let query = document.getElementById('search-input').value.trim();
            if (!query) {
                const queryParts = [ document.getElementById('experience-input').value.trim(), document.getElementById('role-input').value.trim(), document.getElementById('salary-input').value.trim() ? `with a salary of ${document.getElementById('salary-input').value.trim()}` : '', document.getElementById('location-input').value.trim() ? `in ${document.getElementById('location-input').value.trim()}` : '' ];
                query = queryParts.filter(part => part !== '').join(' ');
            }
            if (query) searchJobs(query);
        });

        async function searchJobs(query) {
            document.getElementById('loading-indicator').classList.remove('hidden');
            jobListingsContainer.innerHTML = '';
            paginationContainer.innerHTML = '';
            document.getElementById('results-summary').classList.add('hidden');
            document.getElementById('no-results').classList.add('hidden');

            try {
                const url = `https://jobmaster-backend-y2bn.onrender.com/api/search?q=${encodeURIComponent(query)}`;
                const response = await fetch(url);
                if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                
                currentJobs = await response.json();
                currentPage = 1; // Reset to first page on new search
                displayPage(currentPage, query);

            } catch (error) {
                console.error("Failed to fetch jobs:", error);
                jobListingsContainer.innerHTML = `<p class="text-center text-red-500">Could not connect to the job server. It might be waking up. Please try again in 30 seconds.</p>`;
            } finally {
                document.getElementById('loading-indicator').classList.add('hidden');
            }
        }

        function displayPage(page, query) {
            currentPage = page;
            jobListingsContainer.innerHTML = '';
            
            const start = (page - 1) * jobsPerPage;
            const end = start + jobsPerPage;
            const paginatedJobs = currentJobs.slice(start, end);

            if (currentJobs.length === 0) {
                document.getElementById('no-results').classList.remove('hidden');
                document.getElementById('results-summary').classList.add('hidden');
                paginationContainer.innerHTML = '';
                return;
            }
            
            const summaryH2 = document.querySelector('#results-summary h2');
            summaryH2.textContent = `Showing ${start + 1}-${Math.min(end, currentJobs.length)} of ${currentJobs.length} jobs for "${query}"`;
            document.getElementById('results-summary').classList.remove('hidden');

            paginatedJobs.forEach(job => {
                const jobCard = createJobCard(job);
                jobListingsContainer.appendChild(jobCard);
            });
            
            renderPaginationControls();
            window.scrollTo(0, 0); // Scroll to top on page change
        }

        function renderPaginationControls() {
            paginationContainer.innerHTML = '';
            const totalPages = Math.ceil(currentJobs.length / jobsPerPage);

            if (totalPages <= 1) return;

            for (let i = 1; i <= totalPages; i++) {
                const pageButton = document.createElement('button');
                pageButton.textContent = i;
                pageButton.dataset.page = i;
                pageButton.className = `px-4 py-2 rounded-md text-sm font-semibold transition ${
                    i === currentPage 
                    ? 'bg-blue-600 text-white' 
                    : 'bg-white text-gray-700 hover:bg-gray-100'
                }`;
                paginationContainer.appendChild(pageButton);
            }
        }

        paginationContainer.addEventListener('click', (e) => {
            if (e.target.tagName === 'BUTTON') {
                const page = parseInt(e.target.dataset.page, 10);
                const query = document.getElementById('search-input').value.trim() || document.querySelector('#results-summary h2').textContent.match(/"([^"]+)"/)[1];
                displayPage(page, query);
            }
        });
        
        function createJobCard(job) {
            const jobCard = document.createElement('div');
            jobCard.className = 'job-card bg-white rounded-lg shadow-md p-6 border border-gray-200 cursor-pointer';
            jobCard.dataset.jobId = job.id;
            jobCard.innerHTML = `<h3 class="text-xl font-bold text-gray-900 truncate">${job.title}</h3><p class="text-blue-600 font-semibold">${job.company}</p><p class="text-gray-500 text-sm mt-1">${job.location}</p><p class="text-gray-600 mt-4 text-sm line-clamp-2">${job.description}</p>`;
            jobCard.addEventListener('click', () => { showJobDetailModal(job.id); });
            return jobCard;
        }

        async function showJobDetailModal(jobId) {
            const job = currentJobs.find(j => j.id === jobId);
            if (!job) return;
            const content = `<div class="p-6 md:p-8"><h2 class="text-3xl font-bold text-gray-900">${job.title}</h2><p class="text-blue-600 font-semibold text-lg mt-1">${job.company}</p><p class="text-gray-500 text-md mt-1">${job.location}</p><div class="flex flex-col sm:flex-row gap-4 my-6"><a href="${job.link}" target="_blank" class="w-full sm:w-auto bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition text-center">Apply Now</a></div><div id="cover-letter-generation-ui" class="hidden my-6 p-4 border rounded-lg bg-gray-50"></div><h3 class="text-xl font-semibold border-b pb-2 mt-8 mb-4">Job Description</h3><div id="job-description-content" class="text-center"><div class="loader inline-block"></div></div></div>`;
            createModal('', content);
            try {
                const response = await fetch('https://jobmaster-backend-y2bn.onrender.com/api/job/expand', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ description: job.description })
                });
                if (!response.ok) throw new Error('AI expansion failed');
                const data = await response.json();
                document.getElementById('job-description-content').innerHTML = `<p class="text-gray-700 leading-relaxed whitespace-pre-wrap text-left">${data.full_description}</p>`;
            } catch (error) {
                console.error("Failed to expand description:", error);
                document.getElementById('job-description-content').innerHTML = `<p class="text-gray-700 leading-relaxed whitespace-pre-wrap text-left">${job.description.replace(/\.\.\.$/, '')}</p>`;
            }
        }
        
        function createModal(title, content, maxWidth = 'max-w-5xl') {
            modalContainer.innerHTML = `<div id="modal-backdrop" class="fixed inset-0 z-50 modal-backdrop flex justify-center items-center p-4"><div class="bg-white rounded-lg shadow-xl w-full ${maxWidth} flex flex-col" style="height: 90vh; max-height: 800px;"><div class="p-4 border-b flex justify-between items-center flex-shrink-0 z-10"><h2 class="text-2xl font-bold">${title}</h2><button id="close-modal-btn" class="text-2xl font-bold p-2 leading-none rounded-full hover:bg-gray-200">&times;</button></div><div class="overflow-y-auto flex-1 min-h-0">${content}</div></div></div>`;
            document.getElementById('modal-backdrop').addEventListener('click', (e) => { if (e.target.id === 'modal-backdrop') { modalContainer.innerHTML = ''; } });
            document.getElementById('close-modal-btn').addEventListener('click', () => { modalContainer.innerHTML = ''; });
        }
        
        howToUseBtn.addEventListener('click', () => {
            const content = `<div class="p-6 prose max-w-none"><h3>Welcome to JobmasterAI!</h3><p>We're revolutionizing the job search by replacing confusing filters with powerful, intuitive AI. Here’s how to make the most of it.</p><h3>The Power of AI Search</h3><p>Instead of checking dozens of boxes, simply tell our AI what you're looking for in your own words. Be as specific as you like!</p><ul><li>Try searches like: <em>"entry-level marketing jobs in New York that are hybrid"</em></li><li>Or: <em>"senior backend developer with Python and AWS experience, salary over $150k"</em></li></ul><p>The more detail you provide, the better our AI can match you with the perfect role. This is the future of job hunting—no more guessing which keywords a recruiter used.</p><h3>Why Create an Account?</h3><p>Searching is free for everyone, but creating an account unlocks powerful features to supercharge your job hunt:</p><ul><li><strong>Save Jobs:</strong> Found a promising role? Bookmark it to review later. All your saved jobs are kept in one convenient place.</li><li><strong>AI Cover Letters:</strong> For any job you're interested in, our AI can generate a tailored cover letter in seconds, highlighting how your skills match the job description.</li><li><strong>Job Alerts:</strong> Opt-in to receive email notifications when new jobs that match your search criteria are posted. Never miss an opportunity!</li></ul></div>`;
            createModal('How JobmasterAI Works', content);
        });
        
        loginBtn.addEventListener('click', () => showAuthModal('login'));
        signupBtn.addEventListener('click', () => showAuthModal('signup'));
        function showAuthModal(type) { const isLogin = type === 'login'; const title = isLogin ? 'Log In' : 'Sign Up'; const buttonText = isLogin ? 'Log In' : 'Create Account'; const switchText = isLogin ? "Don't have an account? Sign Up" : "Already have an account? Log In"; const content = `<div class="p-8"><form id="auth-form"><div class="mb-4"><label for="email" class="block text-sm font-medium text-gray-700">Email Address</label><input type="email" id="email-input" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"></div><div class="mb-6"><label for="password" class="block text-sm font-medium text-gray-700">Password</label><input type="password" id="password-input" required class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"></div><p id="auth-error" class="text-red-500 text-sm mb-4 hidden"></p><button type="submit" class="w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition">${buttonText}</button></form><button id="switch-auth" class="w-full text-center text-sm text-blue-600 hover:underline mt-4">${switchText}</button></div>`; createModal(title, content, 'max-w-sm'); document.getElementById('switch-auth').addEventListener('click', () => showAuthModal(isLogin ? 'signup' : 'login')); document.getElementById('auth-form').addEventListener('submit', async (e) => { e.preventDefault(); const email = document.getElementById('email-input').value; const password = document.getElementById('password-input').value; const errorP = document.getElementById('auth-error'); errorP.classList.add('hidden'); try { if (isLogin) { await signInWithEmailAndPassword(auth, email, password); } else { await createUserWithEmailAndPassword(auth, email, password); } modalContainer.innerHTML = ''; } catch (error) { errorP.textContent = error.message; errorP.classList.remove('hidden'); } }); }
        
        savedJobsBtn.addEventListener('click', () => { searchSection.classList.add('hidden'); listingsSection.classList.add('hidden'); savedJobsSection.classList.remove('hidden'); displaySavedJobs(); });
        backToSearchBtn.addEventListener('click', () => { searchSection.classList.remove('hidden'); listingsSection.classList.remove('hidden'); savedJobsSection.classList.add('hidden'); });

        async function fetchSavedJobs(userId) { const savedJobsCollection = collection(db, `users/${userId}/savedJobs`); const querySnapshot = await getDocs(savedJobsCollection); savedJobIds.clear(); querySnapshot.forEach((doc) => savedJobIds.add(doc.id)); }
        async function toggleSaveJob(jobId, jobData) { if (!currentUser) return; const jobRef = doc(db, `users/${currentUser.uid}/savedJobs`, jobId); const saveButton = document.querySelector(`#modal-save-btn`); if (savedJobIds.has(jobId)) { await deleteDoc(jobRef); savedJobIds.delete(jobId); } else { await setDoc(jobRef, jobData); savedJobIds.add(jobId); } }
        function displaySavedJobs() { savedJobListingsContainer.innerHTML = ''; if (savedJobIds.size === 0) { noSavedJobsMessage.classList.remove('hidden'); return; } noSavedJobsMessage.classList.add('hidden'); const allSavedJobs = mockJobs.filter(job => savedJobIds.has(job.id)); allSavedJobs.forEach(job => { const jobCard = createJobCard(job); savedJobListingsContainer.appendChild(jobCard); }); }
        async function fetchUserSettings(userId) { const userDocRef = doc(db, "users", userId); const docSnap = await getDoc(userDocRef); emailCheckbox.checked = !!(docSnap.exists() && docSnap.data().emailNotifications); }
        emailCheckbox.addEventListener('change', async (e) => { if (!currentUser) return; const userDocRef = doc(db, "users", currentUser.uid); try { await setDoc(userDocRef, { emailNotifications: e.target.checked }, { merge: true }); notificationStatus.classList.remove('hidden'); setTimeout(() => notificationStatus.classList.add('hidden'), 2000); } catch (error) { console.error("Error updating settings: ", error); } });

        onAuthStateChanged(auth, async (user) => {
            currentUser = user;
            if (user) {
                authLinks.classList.add('hidden');
                userSession.classList.remove('hidden'); userSession.classList.add('flex');
                userEmailSpan.textContent = user.email;
                await fetchUserSettings(user.uid);
                await fetchSavedJobs(user.uid);
            } else {
                authLinks.classList.remove('hidden');
                userSession.classList.add('hidden'); userSession.classList.remove('flex');
                userEmailSpan.textContent = '';
                savedJobIds.clear();
            }
        });
        
        warmUpServer();
    </script>
</body>
</html>
